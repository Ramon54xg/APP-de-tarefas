import javafx.scene.control.TextField;

public class ControllerRegisterSc
{
  @javafx.fxml.FXML
  private TextField tfuserregister;
  @javafx.fxml.FXML
  private TextField tfemailregister;
  @javafx.fxml.FXML
  private javafx.scene.control.PasswordField tfpassregister;
  @javafx.fxml.FXML
  private javafx.scene.control.Button buttonregister2;
  
  public ControllerRegisterSc() {}
  
  public void clickbacktologin() {
    Main.changeScreen("login");
  }
  











  @javafx.fxml.FXML
  void actbuttonregister2(javafx.event.ActionEvent event)
    throws java.sql.SQLException
  {
    String name = tfuserregister.getText();
    String password = tfpassregister.getText();
    String email = tfemailregister.getText();
    
    java.sql.Connection conn = ConnectionDatabase.ConnectionFactory.getConnection();
    
    java.sql.PreparedStatement stmt = conn.prepareStatement("INSERT INTO users(user,password,user_email) VALUES('" + name + "', '" + password + "', '" + email + "')");
    stmt.executeUpdate();
    
    tfuserregister.setText("");
    tfpassregister.setText("");
    tfemailregister.setText("");
    javax.swing.JOptionPane.showMessageDialog(null, "Cadastro foi efetuado com sucesso");
    conn.close();